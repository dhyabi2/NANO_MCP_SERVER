{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://nano-mcp.replit.app/schemas/mcp-tools",
  "title": "NANO MCP Tools JSON Schema",
  "description": "Complete JSON Schema definitions for all NANO MCP Server tools with validation, examples, and response schemas for AI agent auto-discovery",
  "version": "1.0.0",
  "tools": [
    {
      "name": "initialize",
      "description": "Initialize the MCP server and get available capabilities",
      "category": "system",
      "inputSchema": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "capabilities": {
            "type": "array",
            "items": { "type": "string" }
          },
          "version": { "type": "string" },
          "availableMethods": {
            "type": "array",
            "items": { "type": "string" }
          },
          "rpcNode": { "type": "string" },
          "defaultRepresentative": { "type": "string" }
        },
        "required": ["capabilities", "version", "availableMethods"]
      },
      "examples": [
        {
          "request": {
            "jsonrpc": "2.0",
            "method": "initialize",
            "params": {},
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "capabilities": ["wallet-generation", "transactions", "balance-queries"],
              "version": "1.0.0",
              "availableMethods": ["generateWallet", "getBalance", "sendTransaction"]
            },
            "id": 1
          }
        }
      ]
    },
    {
      "name": "generateWallet",
      "description": "Generate a new NANO wallet with address, private key, public key, and seed",
      "category": "wallet",
      "inputSchema": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "Generated NANO address"
          },
          "privateKey": {
            "type": "string",
            "pattern": "^[0-9A-Fa-f]{64}$",
            "description": "64-character hexadecimal private key"
          },
          "publicKey": {
            "type": "string",
            "pattern": "^[0-9A-Fa-f]{64}$",
            "description": "64-character hexadecimal public key"
          },
          "seed": {
            "type": "string",
            "pattern": "^[0-9A-Fa-f]{64}$",
            "description": "64-character hexadecimal seed (can generate multiple addresses)"
          }
        },
        "required": ["address", "privateKey", "publicKey", "seed"]
      },
      "examples": [
        {
          "request": {
            "jsonrpc": "2.0",
            "method": "generateWallet",
            "params": {},
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "address": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn",
              "privateKey": "9f0e444c69f77a49bd0be89db92c38fe713e0963165cca12faf5712d7657120f",
              "publicKey": "c008b814ca5b37f7e7e1c0d94d1a36b7f4d1a2e8c5f1a7b9c3d4e5f6a7b8c9d0",
              "seed": "a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2"
            },
            "id": 1
          }
        }
      ],
      "security": {
        "warning": "CRITICAL: Store private key and seed securely. Anyone with these can control the funds.",
        "bestPractices": [
          "Never share private key or seed",
          "Store in encrypted storage",
          "Use environment variables for automation",
          "Generate new wallets for testing only"
        ]
      }
    },
    {
      "name": "getBalance",
      "description": "Get the balance and pending amounts for a NANO address in both raw and NANO units",
      "category": "query",
      "inputSchema": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "Valid NANO address (starts with 'nano_' or 'xrb_')",
            "examples": [
              "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn",
              "nano_1x7biz69cem95oo7gxkdkdbxsfs6ixkxx833fz3ps9qxh3uofa1hr8ejkizd"
            ]
          }
        },
        "required": ["address"],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "balance": {
            "type": "string",
            "pattern": "^[0-9]+$",
            "description": "Current balance in raw units (1 NANO = 10^30 raw)"
          },
          "balanceNano": {
            "type": "string",
            "pattern": "^[0-9]+\\.[0-9]{6}$",
            "description": "Current balance in NANO (decimal, 6 places)"
          },
          "pending": {
            "type": "string",
            "pattern": "^[0-9]+$",
            "description": "Pending amount in raw units"
          },
          "pendingNano": {
            "type": "string",
            "pattern": "^[0-9]+\\.[0-9]{6}$",
            "description": "Pending amount in NANO (decimal, 6 places)"
          }
        },
        "required": ["balance", "balanceNano", "pending", "pendingNano"]
      },
      "examples": [
        {
          "request": {
            "jsonrpc": "2.0",
            "method": "getBalance",
            "params": {
              "address": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "balance": "1500000000000000000000000000000",
              "balanceNano": "1.500000",
              "pending": "500000000000000000000000000000",
              "pendingNano": "0.500000"
            },
            "id": 1
          }
        },
        {
          "description": "Account with zero balance",
          "request": {
            "jsonrpc": "2.0",
            "method": "getBalance",
            "params": {
              "address": "nano_1x7biz69cem95oo7gxkdkdbxsfs6ixkxx833fz3ps9qxh3uofa1hr8ejkizd"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "balance": "0",
              "balanceNano": "0.000000",
              "pending": "0",
              "pendingNano": "0.000000"
            },
            "id": 1
          }
        }
      ],
      "errors": [
        {
          "errorCode": "INVALID_ADDRESS_FORMAT",
          "trigger": "Missing or non-string address",
          "example": {
            "jsonrpc": "2.0",
            "error": {
              "errorCode": "INVALID_ADDRESS_FORMAT",
              "error": "Invalid address format",
              "details": {
                "parameter": "address",
                "received": null,
                "expectedFormat": "nano_[60 characters]"
              }
            },
            "id": 1
          }
        },
        {
          "errorCode": "INVALID_ADDRESS_PREFIX",
          "trigger": "Address doesn't start with 'nano_' or 'xrb_'",
          "example": {
            "jsonrpc": "2.0",
            "error": {
              "errorCode": "INVALID_ADDRESS_PREFIX",
              "error": "Address must start with 'nano_' or 'xrb_'"
            },
            "id": 1
          }
        }
      ]
    },
    {
      "name": "getAccountInfo",
      "description": "Get detailed account information including frontier, representative, block count, and balance",
      "category": "query",
      "inputSchema": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "Valid NANO address",
            "examples": ["nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"]
          }
        },
        "required": ["address"],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "frontier": {
            "type": "string",
            "pattern": "^[0-9A-F]{64}$",
            "description": "Hash of the latest block (frontier)"
          },
          "open_block": {
            "type": "string",
            "pattern": "^[0-9A-F]{64}$",
            "description": "Hash of the first block (account opening)"
          },
          "representative_block": {
            "type": "string",
            "pattern": "^[0-9A-F]{64}$",
            "description": "Block hash where representative was last changed"
          },
          "balance": {
            "type": "string",
            "pattern": "^[0-9]+$",
            "description": "Account balance in raw units"
          },
          "modified_timestamp": {
            "type": "string",
            "description": "Unix timestamp of last account modification"
          },
          "block_count": {
            "type": "string",
            "pattern": "^[0-9]+$",
            "description": "Number of blocks in the account chain"
          },
          "representative": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "Current representative address"
          }
        },
        "required": ["frontier", "balance", "representative", "block_count"]
      },
      "examples": [
        {
          "request": {
            "jsonrpc": "2.0",
            "method": "getAccountInfo",
            "params": {
              "address": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "frontier": "FF84533A571D953A596EA401FD41743AC85D04F406E76FDE4408EAEE50B473E1",
              "open_block": "991CF190094C00F0B68E2E5F75F6BEE95A2E0BD93CEAA4A6734DB9F19B728948",
              "representative_block": "FF84533A571D953A596EA401FD41743AC85D04F406E76FDE4408EAEE50B473E1",
              "balance": "1500000000000000000000000000000",
              "modified_timestamp": "1699000000",
              "block_count": "42",
              "representative": "nano_3qya5xpjfsbk3ndfebo9dsrj6iy6f6idmogqtn1mtzdtwnxu6rw3dz18i6xf"
            },
            "id": 1
          }
        }
      ]
    },
    {
      "name": "getPendingBlocks",
      "description": "Get all pending blocks (incoming transactions) waiting to be received for an address",
      "category": "query",
      "inputSchema": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "NANO address to check for pending blocks",
            "examples": ["nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"]
          }
        },
        "required": ["address"],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "blocks": {
            "type": "object",
            "patternProperties": {
              "^[0-9A-F]{64}$": {
                "type": "object",
                "properties": {
                  "amount": {
                    "type": "string",
                    "pattern": "^[0-9]+$",
                    "description": "Amount in raw units"
                  },
                  "source": {
                    "type": "string",
                    "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
                    "description": "Sender's NANO address"
                  }
                },
                "required": ["amount", "source"]
              }
            },
            "description": "Map of block hash to block info"
          }
        }
      },
      "examples": [
        {
          "description": "Address with pending blocks",
          "request": {
            "jsonrpc": "2.0",
            "method": "getPendingBlocks",
            "params": {
              "address": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "blocks": {
                "FF84533A571D953A596EA401FD41743AC85D04F406E76FDE4408EAEE50B473E1": {
                  "amount": "500000000000000000000000000000",
                  "source": "nano_1x7biz69cem95oo7gxkdkdbxsfs6ixkxx833fz3ps9qxh3uofa1hr8ejkizd"
                }
              }
            },
            "id": 1
          }
        },
        {
          "description": "Address with no pending blocks",
          "request": {
            "jsonrpc": "2.0",
            "method": "getPendingBlocks",
            "params": {
              "address": "nano_1x7biz69cem95oo7gxkdkdbxsfs6ixkxx833fz3ps9qxh3uofa1hr8ejkizd"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "blocks": {}
            },
            "id": 1
          }
        }
      ]
    },
    {
      "name": "initializeAccount",
      "description": "Initialize (open) a NANO account by receiving the first pending block. Required before an account can send transactions.",
      "category": "transaction",
      "performanceNotes": {
        "avgDuration": "10-15 seconds",
        "reason": "Proof-of-Work generation (receive block difficulty: fffffe0000000000)",
        "timeout": "30 seconds recommended"
      },
      "inputSchema": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "NANO address to initialize",
            "examples": ["nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"]
          },
          "privateKey": {
            "type": "string",
            "pattern": "^[0-9A-Fa-f]{64}$",
            "description": "64-character hexadecimal private key",
            "examples": ["9f0e444c69f77a49bd0be89db92c38fe713e0963165cca12faf5712d7657120f"]
          }
        },
        "required": ["address", "privateKey"],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "initialized": {
            "type": "boolean",
            "description": "Whether the account was successfully initialized"
          },
          "hash": {
            "type": "string",
            "pattern": "^[0-9A-F]{64}$",
            "description": "Block hash of the initialization (open) block"
          },
          "balance": {
            "type": "string",
            "pattern": "^[0-9]+$",
            "description": "Account balance after initialization in raw units"
          },
          "representative": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "Representative address set during initialization"
          }
        },
        "required": ["initialized", "hash"]
      },
      "examples": [
        {
          "request": {
            "jsonrpc": "2.0",
            "method": "initializeAccount",
            "params": {
              "address": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn",
              "privateKey": "9f0e444c69f77a49bd0be89db92c38fe713e0963165cca12faf5712d7657120f"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "initialized": true,
              "hash": "FF84533A571D953A596EA401FD41743AC85D04F406E76FDE4408EAEE50B473E1",
              "balance": "500000000000000000000000000000",
              "representative": "nano_3qya5xpjfsbk3ndfebo9dsrj6iy6f6idmogqtn1mtzdtwnxu6rw3dz18i6xf"
            },
            "id": 1
          }
        }
      ],
      "prerequisites": [
        "Account must have at least one pending block",
        "Send NANO to the address first if no pending blocks exist"
      ]
    },
    {
      "name": "sendTransaction",
      "description": "Send NANO from one address to another. Requires account to be initialized (opened) first.",
      "category": "transaction",
      "performanceNotes": {
        "avgDuration": "15-20 seconds",
        "reason": "Proof-of-Work generation (send block difficulty: fffffff800000000)",
        "timeout": "60 seconds recommended"
      },
      "inputSchema": {
        "type": "object",
        "properties": {
          "fromAddress": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "Sender's NANO address (must be initialized)",
            "examples": ["nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"]
          },
          "toAddress": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "Recipient's NANO address (doesn't need to be initialized)",
            "examples": ["nano_1x7biz69cem95oo7gxkdkdbxsfs6ixkxx833fz3ps9qxh3uofa1hr8ejkizd"]
          },
          "amountRaw": {
            "type": "string",
            "pattern": "^[0-9]+$",
            "description": "Amount to send in raw units (1 NANO = 10^30 raw). Use convertBalance to get raw from NANO.",
            "examples": [
              "1000000000000000000000000000",
              "100000000000000000000000000000"
            ],
            "minimum": "1"
          },
          "privateKey": {
            "type": "string",
            "pattern": "^[0-9A-Fa-f]{64}$",
            "description": "Sender's 64-character hexadecimal private key",
            "examples": ["9f0e444c69f77a49bd0be89db92c38fe713e0963165cca12faf5712d7657120f"]
          }
        },
        "required": ["fromAddress", "toAddress", "amountRaw", "privateKey"],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the transaction was successful"
          },
          "hash": {
            "type": "string",
            "pattern": "^[0-9A-F]{64}$",
            "description": "Transaction (block) hash"
          }
        },
        "required": ["success", "hash"]
      },
      "examples": [
        {
          "description": "Send 0.001 NANO",
          "request": {
            "jsonrpc": "2.0",
            "method": "sendTransaction",
            "params": {
              "fromAddress": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn",
              "toAddress": "nano_1x7biz69cem95oo7gxkdkdbxsfs6ixkxx833fz3ps9qxh3uofa1hr8ejkizd",
              "amountRaw": "1000000000000000000000000000",
              "privateKey": "9f0e444c69f77a49bd0be89db92c38fe713e0963165cca12faf5712d7657120f"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "success": true,
              "hash": "AB12345678901234567890123456789012345678901234567890123456789012"
            },
            "id": 1
          }
        },
        {
          "description": "Send 0.1 NANO (100 million raw)",
          "request": {
            "jsonrpc": "2.0",
            "method": "sendTransaction",
            "params": {
              "fromAddress": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn",
              "toAddress": "nano_1x7biz69cem95oo7gxkdkdbxsfs6ixkxx833fz3ps9qxh3uofa1hr8ejkizd",
              "amountRaw": "100000000000000000000000000000",
              "privateKey": "9f0e444c69f77a49bd0be89db92c38fe713e0963165cca12faf5712d7657120f"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "success": true,
              "hash": "CD34567890123456789012345678901234567890123456789012345678901234"
            },
            "id": 1
          }
        }
      ],
      "prerequisites": [
        "fromAddress must be initialized (use initializeAccount if not)",
        "fromAddress must have sufficient balance",
        "Use receiveAllPending first if there are pending blocks"
      ],
      "commonErrors": [
        {
          "errorCode": "INSUFFICIENT_BALANCE",
          "solution": "Check balance with getBalance, reduce amount or fund account"
        },
        {
          "errorCode": "ACCOUNT_NOT_INITIALIZED",
          "solution": "Call initializeAccount first"
        },
        {
          "errorCode": "INSUFFICIENT_WORK",
          "solution": "Simply retry the request (work will be regenerated)"
        }
      ]
    },
    {
      "name": "receiveAllPending",
      "description": "Receive all pending blocks (incoming transactions) for an address. Can initialize account if it's the first receive.",
      "category": "transaction",
      "performanceNotes": {
        "avgDuration": "6-10 seconds per block",
        "reason": "Proof-of-Work generation for each receive block",
        "timeout": "60 seconds recommended (10 blocks max)"
      },
      "inputSchema": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "NANO address to receive pending transactions for",
            "examples": ["nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"]
          },
          "privateKey": {
            "type": "string",
            "pattern": "^[0-9A-Fa-f]{64}$",
            "description": "64-character hexadecimal private key",
            "examples": ["9f0e444c69f77a49bd0be89db92c38fe713e0963165cca12faf5712d7657120f"]
          }
        },
        "required": ["address", "privateKey"],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "hash": {
              "type": "string",
              "pattern": "^[0-9A-F]{64}$",
              "description": "Block hash of the received transaction"
            }
          }
        },
        "description": "Array of processed block results"
      },
      "examples": [
        {
          "description": "Receive 2 pending blocks",
          "request": {
            "jsonrpc": "2.0",
            "method": "receiveAllPending",
            "params": {
              "address": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn",
              "privateKey": "9f0e444c69f77a49bd0be89db92c38fe713e0963165cca12faf5712d7657120f"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": [
              {
                "hash": "FF84533A571D953A596EA401FD41743AC85D04F406E76FDE4408EAEE50B473E1"
              },
              {
                "hash": "AB12345678901234567890123456789012345678901234567890123456789012"
              }
            ],
            "id": 1
          }
        },
        {
          "description": "No pending blocks to receive",
          "request": {
            "jsonrpc": "2.0",
            "method": "receiveAllPending",
            "params": {
              "address": "nano_1x7biz69cem95oo7gxkdkdbxsfs6ixkxx833fz3ps9qxh3uofa1hr8ejkizd",
              "privateKey": "a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": [],
            "id": 1
          }
        }
      ]
    },
    {
      "name": "generateQrCode",
      "description": "Generate a QR code image for a NANO payment request. Returns base64-encoded PNG image.",
      "category": "utility",
      "inputSchema": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "NANO address to receive payment",
            "examples": ["nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"]
          },
          "amount": {
            "type": "string",
            "pattern": "^[0-9]+(\\.[0-9]+)?$",
            "description": "Amount in decimal NANO (e.g., '0.1' for 0.1 NANO). Optional.",
            "examples": ["0.1", "1.5", "10"]
          }
        },
        "required": ["address"],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "qrCode": {
            "type": "string",
            "description": "Base64-encoded PNG image data"
          },
          "nanoUri": {
            "type": "string",
            "pattern": "^nano:(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}(\\?amount=[0-9]+)?$",
            "description": "NANO URI (nano:address?amount=raw)"
          }
        },
        "required": ["qrCode", "nanoUri"]
      },
      "examples": [
        {
          "description": "QR code with amount",
          "request": {
            "jsonrpc": "2.0",
            "method": "generateQrCode",
            "params": {
              "address": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn",
              "amount": "0.1"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "qrCode": "iVBORw0KGgoAAAANSUhEUgAA...(base64 encoded image)...CYII=",
              "nanoUri": "nano:nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn?amount=100000000000000000000000000000"
            },
            "id": 1
          }
        },
        {
          "description": "QR code without amount",
          "request": {
            "jsonrpc": "2.0",
            "method": "generateQrCode",
            "params": {
              "address": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "qrCode": "iVBORw0KGgoAAAANSUhEUgAA...(base64 encoded image)...CYII=",
              "nanoUri": "nano:nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"
            },
            "id": 1
          }
        }
      ]
    },
    {
      "name": "convertBalance",
      "description": "Convert between NANO and raw units. Essential for AI agents to format amounts correctly for transactions.",
      "category": "utility",
      "inputSchema": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "string",
            "pattern": "^[0-9]+(\\.[0-9]+)?$",
            "description": "Amount to convert (decimal string)",
            "examples": ["0.1", "1000000000000000000000000000"]
          },
          "from": {
            "type": "string",
            "enum": ["nano", "raw"],
            "description": "Source unit",
            "examples": ["nano", "raw"]
          },
          "to": {
            "type": "string",
            "enum": ["nano", "raw"],
            "description": "Target unit",
            "examples": ["raw", "nano"]
          }
        },
        "required": ["amount", "from", "to"],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "original": {
            "type": "string",
            "description": "Original amount"
          },
          "converted": {
            "type": "string",
            "description": "Converted amount"
          },
          "from": {
            "type": "string",
            "enum": ["nano", "raw"]
          },
          "to": {
            "type": "string",
            "enum": ["nano", "raw"]
          }
        },
        "required": ["original", "converted", "from", "to"]
      },
      "examples": [
        {
          "description": "Convert 0.1 NANO to raw",
          "request": {
            "jsonrpc": "2.0",
            "method": "convertBalance",
            "params": {
              "amount": "0.1",
              "from": "nano",
              "to": "raw"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "original": "0.1",
              "converted": "100000000000000000000000000000",
              "from": "nano",
              "to": "raw"
            },
            "id": 1
          }
        },
        {
          "description": "Convert raw to NANO",
          "request": {
            "jsonrpc": "2.0",
            "method": "convertBalance",
            "params": {
              "amount": "1000000000000000000000000000",
              "from": "raw",
              "to": "nano"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "original": "1000000000000000000000000000",
              "converted": "0.001000",
              "from": "raw",
              "to": "nano"
            },
            "id": 1
          }
        }
      ],
      "conversionReference": {
        "1 NANO": "1000000000000000000000000000 raw",
        "0.1 NANO": "100000000000000000000000000 raw",
        "0.001 NANO": "1000000000000000000000000 raw",
        "formula": "1 NANO = 10^30 raw"
      }
    },
    {
      "name": "getAccountStatus",
      "description": "Get comprehensive account status with AI-friendly recommendations. Returns initialization status, balance, pending blocks, and suggested next actions.",
      "category": "query",
      "inputSchema": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "pattern": "^(nano|xrb)_[13]{1}[13456789abcdefghijkmnopqrstuwxyz]{59}$",
            "description": "NANO address to check status for",
            "examples": ["nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"]
          }
        },
        "required": ["address"],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string"
          },
          "initialized": {
            "type": "boolean",
            "description": "Whether account is initialized (opened)"
          },
          "balance": {
            "type": "string",
            "description": "Balance in raw"
          },
          "balanceNano": {
            "type": "string",
            "description": "Balance in NANO"
          },
          "pendingCount": {
            "type": "integer",
            "description": "Number of pending blocks"
          },
          "totalPending": {
            "type": "string",
            "description": "Total pending amount in raw"
          },
          "totalPendingNano": {
            "type": "string",
            "description": "Total pending amount in NANO"
          },
          "canSend": {
            "type": "boolean",
            "description": "Whether account can send transactions"
          },
          "needsAction": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "AI-friendly list of recommended actions"
          },
          "representative": {
            "type": "string",
            "description": "Current representative (if initialized)"
          }
        },
        "required": ["address", "initialized", "balance", "balanceNano", "pendingCount", "canSend", "needsAction"]
      },
      "examples": [
        {
          "description": "Uninitialized account with pending blocks",
          "request": {
            "jsonrpc": "2.0",
            "method": "getAccountStatus",
            "params": {
              "address": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "address": "nano_3h3m6kfckrxpc4t33jn36eu8smfpukwuq1zq4hy35dh4a7drs6ormhwhkncn",
              "initialized": false,
              "balance": "0",
              "balanceNano": "0.000000",
              "pendingCount": 1,
              "totalPending": "500000000000000000000000000000",
              "totalPendingNano": "0.500000",
              "canSend": false,
              "needsAction": [
                "REQUIRED: Call initializeAccount to open account and receive pending blocks",
                "After initialization, you can send transactions"
              ]
            },
            "id": 1
          }
        },
        {
          "description": "Initialized account ready to send",
          "request": {
            "jsonrpc": "2.0",
            "method": "getAccountStatus",
            "params": {
              "address": "nano_1x7biz69cem95oo7gxkdkdbxsfs6ixkxx833fz3ps9qxh3uofa1hr8ejkizd"
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "address": "nano_1x7biz69cem95oo7gxkdkdbxsfs6ixkxx833fz3ps9qxh3uofa1hr8ejkizd",
              "initialized": true,
              "balance": "1500000000000000000000000000000",
              "balanceNano": "1.500000",
              "pendingCount": 0,
              "totalPending": "0",
              "totalPendingNano": "0.000000",
              "canSend": true,
              "needsAction": [
                "Account is ready - you can send transactions with sendTransaction"
              ],
              "representative": "nano_3qya5xpjfsbk3ndfebo9dsrj6iy6f6idmogqtn1mtzdtwnxu6rw3dz18i6xf"
            },
            "id": 1
          }
        }
      ]
    },
    {
      "name": "setupTestWallets",
      "description": "Generate two test wallets for integration testing. Saves wallets with private keys and instructs human to fund them.",
      "category": "testing",
      "inputSchema": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "wallet1": {
            "type": "object",
            "properties": {
              "address": { "type": "string" },
              "funded": { "type": "boolean" }
            }
          },
          "wallet2": {
            "type": "object",
            "properties": {
              "address": { "type": "string" },
              "funded": { "type": "boolean" }
            }
          },
          "created": { "type": "string", "format": "date-time" },
          "status": { "type": "string", "enum": ["awaiting_funding"] },
          "message": { "type": "string" },
          "fundingInstructions": {
            "type": "array",
            "items": { "type": "string" }
          }
        }
      },
      "examples": [
        {
          "request": {
            "jsonrpc": "2.0",
            "method": "setupTestWallets",
            "params": {},
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "wallet1": {
                "address": "nano_3eadyjzpjfocpigqauajzhe1y41z939rhbjdmbed5zxs75hzqswpojus3b3f",
                "funded": false
              },
              "wallet2": {
                "address": "nano_1ee6716of16rhrjdxu1ap561c1c5yuey97pewss5kpodytomrqhy9k8h46nz",
                "funded": false
              },
              "created": "2025-11-12T00:00:00.000Z",
              "status": "awaiting_funding",
              "message": "Test wallets generated successfully. Please fund both wallets with test NANO to proceed with testing.",
              "fundingInstructions": [
                "Send test NANO to Wallet 1: nano_3eadyjzpjfocpigqauajzhe1y41z939rhbjdmbed5zxs75hzqswpojus3b3f",
                "Send test NANO to Wallet 2: nano_1ee6716of16rhrjdxu1ap561c1c5yuey97pewss5kpodytomrqhy9k8h46nz",
                "After funding, use checkFundingStatus to verify both wallets are funded",
                "Recommended test amount: 0.1 NANO or more per wallet"
              ]
            },
            "id": 1
          }
        }
      ]
    },
    {
      "name": "getTestWallets",
      "description": "Retrieve existing test wallets with their addresses, balances, and funding status",
      "category": "testing",
      "inputSchema": {
        "type": "object",
        "properties": {
          "includePrivateKeys": {
            "type": "boolean",
            "description": "Whether to include private keys in response (default: true)",
            "default": true
          }
        },
        "required": [],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "wallet1": {
            "type": "object",
            "properties": {
              "address": { "type": "string" },
              "privateKey": { "type": "string" },
              "balance": { "type": "string" },
              "funded": { "type": "boolean" }
            }
          },
          "wallet2": {
            "type": "object",
            "properties": {
              "address": { "type": "string" },
              "privateKey": { "type": "string" },
              "balance": { "type": "string" },
              "funded": { "type": "boolean" }
            }
          }
        }
      },
      "examples": [
        {
          "request": {
            "jsonrpc": "2.0",
            "method": "getTestWallets",
            "params": {
              "includePrivateKeys": true
            },
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "wallet1": {
                "address": "nano_3eadyjzpjfocpigqauajzhe1y41z939rhbjdmbed5zxs75hzqswpojus3b3f",
                "privateKey": "00b6dbc92e3f7a5a217645b9f257d2071838132fad786b3fddd5cb3a64cdd1f2",
                "balance": "100000000000000000000000000000",
                "funded": true
              },
              "wallet2": {
                "address": "nano_1ee6716of16rhrjdxu1ap561c1c5yuey97pewss5kpodytomrqhy9k8h46nz",
                "privateKey": "a4a3d0cd01cff28628e2bd187bdb6d39b42779cbc6ffe5ac5685ea58d4b16ae1",
                "balance": "100000000000000000000000000000",
                "funded": true
              }
            },
            "id": 1
          }
        }
      ]
    },
    {
      "name": "checkTestWalletsFunding",
      "description": "Check the funding status of both test wallets to determine if they are ready for testing",
      "category": "testing",
      "inputSchema": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "allFunded": { "type": "boolean" },
          "wallet1Funded": { "type": "boolean" },
          "wallet2Funded": { "type": "boolean" },
          "message": { "type": "string" }
        }
      },
      "examples": [
        {
          "description": "Both wallets funded",
          "request": {
            "jsonrpc": "2.0",
            "method": "checkTestWalletsFunding",
            "params": {},
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "allFunded": true,
              "wallet1Funded": true,
              "wallet2Funded": true,
              "message": "Both test wallets are funded and ready for testing"
            },
            "id": 1
          }
        }
      ]
    },
    {
      "name": "resetTestWallets",
      "description": "Delete existing test wallets to start fresh with new wallet generation",
      "category": "testing",
      "inputSchema": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      },
      "responseSchema": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean" },
          "message": { "type": "string" }
        }
      },
      "examples": [
        {
          "request": {
            "jsonrpc": "2.0",
            "method": "resetTestWallets",
            "params": {},
            "id": 1
          },
          "response": {
            "jsonrpc": "2.0",
            "result": {
              "success": true,
              "message": "Test wallets have been reset. Use setupTestWallets to generate new wallets."
            },
            "id": 1
          }
        }
      ]
    }
  ],
  "errorSchema": {
    "type": "object",
    "properties": {
      "success": {
        "type": "boolean",
        "const": false
      },
      "error": {
        "type": "string",
        "description": "Human-readable error message"
      },
      "errorCode": {
        "type": "string",
        "enum": [
          "INVALID_ADDRESS_FORMAT",
          "INVALID_ADDRESS_PREFIX",
          "INVALID_ADDRESS_CHECKSUM",
          "INVALID_PRIVATE_KEY_FORMAT",
          "INVALID_PRIVATE_KEY_LENGTH",
          "INVALID_PRIVATE_KEY_CHARACTERS",
          "INVALID_AMOUNT_FORMAT",
          "AMOUNT_WRONG_UNIT",
          "INVALID_AMOUNT_NEGATIVE",
          "INVALID_AMOUNT_ZERO",
          "INVALID_AMOUNT_OVERFLOW",
          "INSUFFICIENT_BALANCE",
          "INSUFFICIENT_WORK",
          "ACCOUNT_NOT_INITIALIZED",
          "ACCOUNT_NOT_INITIALIZED_NO_PENDING",
          "PENDING_BLOCKS_NOT_RECEIVED",
          "BLOCKCHAIN_INVALID_BLOCK",
          "BLOCKCHAIN_INSUFFICIENT_BALANCE",
          "BLOCKCHAIN_ERROR",
          "MISSING_PARAMETER",
          "METHOD_NOT_FOUND",
          "INVALID_CONVERSION_UNITS",
          "SAME_CONVERSION_UNITS",
          "CONVERSION_ERROR",
          "INVALID_QR_AMOUNT_FORMAT",
          "QR_GENERATION_ERROR",
          "TEST_WALLETS_NOT_FOUND",
          "INVALID_WALLET_IDENTIFIER",
          "RPC_ERROR"
        ],
        "description": "Machine-readable error code for programmatic handling"
      },
      "details": {
        "type": "object",
        "description": "Detailed context about the error"
      },
      "nextSteps": {
        "type": "array",
        "items": { "type": "string" },
        "description": "Step-by-step instructions to resolve the error"
      },
      "relatedFunctions": {
        "type": "array",
        "items": { "type": "string" },
        "description": "MCP functions that can help resolve the error"
      },
      "exampleRequest": {
        "type": "object",
        "description": "Example of a correct request"
      }
    },
    "required": ["success", "error", "errorCode"]
  },
  "metadata": {
    "generatedBy": "NANO MCP Server",
    "schemaVersion": "1.0.0",
    "lastUpdated": "2025-11-12",
    "totalTools": 16,
    "totalErrorCodes": 29,
    "aiAgentOptimized": true,
    "supportedProtocols": ["JSON-RPC 2.0"],
    "productionEndpoint": "https://nano-mcp.replit.app",
    "documentation": "https://github.com/dhyabi2/NANO_MCP_SERVER"
  }
}

